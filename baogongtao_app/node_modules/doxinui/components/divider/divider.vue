<template>
	<view class="dxi-divider" :class="[myclass]" :style="{height:height*2+'rpx'}">
		<view class="div-line">
			<view class="divider-line" :style="{width:dividerWidht,background:getBgColor(gradual,gradualColor,dividerColor,0)}" v-if="!border"></view>
		</view>
		<view class="divider-text" :style="{color:color,fontSize:size+'px'}">
			<slot></slot>
		</view>
		<view class="div-line">
			<view class="divider-line" :style="{width:dividerWidht,background:getBgColor(gradual,gradualColor,dividerColor,1)}" v-if="!border"></view>
		</view>
	</view>
</template>

<script>
	export default{
		props: {
			// 自定义类名
			myclass:{
				type: String, 
				default: ''
			},
			// 高度
			height:{
				type:String,
				default:'50'
			},
			// 是否有线条
			border: {
				type: Boolean,
				default: false
			},
			// 是否渐变
			gradual:{
				type: Boolean,
				default: false
			},
			// 渐变颜色
			gradualColor:{
				type: Array,
				default: function() {
					return ["#eee", "#ccc"]
				}
			},
			// 线颜色
			dividerColor:{
				type:String,
				default:'#e5e5e5'
			},
			// 线宽度
			dividerWidht:{
				type:String,
				default:'100%'
			},
			// 字颜色
			color:{
				type:String,
				default:'#999'
			},
			// 字体大小
			size: {
				type:  Number,
				default: 12
			}
		},
		data(){
			return {
				
			}
		},
		methods:{
			getBgColor: function(gradual, gradualColor, dividerColor,index) {
				let bgColor = dividerColor;
				if (gradual) {
					if(index == 0)
						bgColor = "linear-gradient(to right," + gradualColor[0] + "," + gradualColor[1] +  ")";
					else
						bgColor = "linear-gradient(to right," + gradualColor[1] + "," + gradualColor[0] +  ")";
				}
				return bgColor;
			}
		}
	}
</script>
<style>
.dxi-divider{display: flex;justify-content: center;align-items: center;}
.dxi-divider .div-line{flex: 1;display: flex;align-items: center;}
.dxi-divider .divider-line{height: 2upx;display: inline-block;}
.dxi-divider .divider-text{padding: 0 20upx;}
.dxi-divider .div-line:first-child{justify-content: flex-end;}
</style>