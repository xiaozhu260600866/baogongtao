<template>
	<view class="dxi-has-more" :class="[myclass]">
		<view class="nothing" v-if="nothing">
			<view class="icon" :class="[icon]" :style="{fontSize:iconSize*2+'rpx',color:iconColor}" v-if="icon"></view>
			<view class="img" v-if="img || source == 'order' || source == 'nodata' || source == 'cart'">
				<image class="image" :src="img" :style="{width:imgWidth*2+'rpx',height:imgHeight*2+'rpx',borderRadius:imgR*2+'rpx'}" v-if="img"></image>
				<image class="image" src="./layouts/order.png" :style="{width:imgWidth*2+'rpx',height:imgHeight*2+'rpx',borderRadius:imgR*2+'rpx'}"
				 v-if="source == 'order'"></image>
				<image class="image" src="./layouts/cart.png" :style="{width:imgWidth*2+'rpx',height:imgHeight*2+'rpx',borderRadius:imgR*2+'rpx'}"
				  v-if="source == 'nodata' || source == 'cart'"></image>
			</view>
			<view v-if="source == 'cart'">
				<view class="name pt10 fs-16">您的购物车空空的</view>
				<view class="name pt5 pb10 fs-12 fc-6">赶紧去挑些喜欢的填满它吧</view>
			</view>
			<view v-if="source == 'order'">
				<view class="name ptb10 fs-14 fc-6">没有订单信息</view>
			</view>
			<view class="message" :style="{fontSize:msgSize*2+'rpx',color:msgColor,marginTop:msgMT*2+'rpx'}"
			 v-if="source != 'order' && source != 'cart'">{{ message?message:'暂无数据' }}</view>
			<view class="nav">
				<dx-button :type="btnType" hollow round size="mini" v-if="source == 'cart'">去首页逛逛</dx-button>
				<dx-button :type="btnType" hollow round size="mini" v-if="source == 'order'">去购物</dx-button>
			</view>
			<slot></slot>
		</view>
		<view class="more" v-else>
			<view class="loadmore" v-if="more">
				<text class="dxi-icon dxi-icon-loading icon-loading"></text>
				<text class="message" :style="{fontSize:msgSize*2+'rpx',color:msgColor}">{{ message?message:'正在加载' }}</text>
			</view>
			<view class="loadmore" v-else>
				<text class="message" :style="{fontSize:msgSize*2+'rpx',color:msgColor}">{{ message?message:'没有更多了...' }}</text>
			</view>
		</view>
	</view>
</template>

<script>
	import dxButton from "doxinui/components/button/button"
	export default{
		components:{
			dxButton
		},
		props: {
			// 自定义类名
			myclass:{
				type: String, 
				default: ''
			},
			nothing:{
				type: Boolean,
				default: true
			},
			more:{
				type: Boolean,
				default: true
			},
			source:{
				type: String,
				default: ''
			},
			icon:{
				type: String,
				default: ''
			},
			iconSize:{
				type: Number,
				default: 40
			},
			iconColor:{
				type: String,
				default: '#dedede'
			},
			img:{
				type:String,
				default: ''
			},
			imgWidth:{
				type: Number,
				default: 90
			},
			imgHeight:{
				type: Number,
				default: 90
			},
			imgR:{
				type: Number,
				default: 0
			},
			msgSize:{
				type: Number,
				default: 14
			},
			msgColor:{
				type: String,
				default: '#999'
			},
			msgMT:{
				type: Number,
				default: 10
			},
			message:{
				type: String,
				default: ''
			},
			btnType:{
				type:String,
				default: 'danger'
			}
		},
		data(){
			return {
				
			}
		},
		computed:{
			// image(){
			// 	if(this.img) return this.img;
			// 	if(this.source == 'order'){
			// 		return "./layouts/order.png"
			// 	} if(this.source == 'nodata'){
			// 		return "./layouts/cart.png"
			// 	} if(this.source == 'cart'){
			// 		return "./layouts/cart.png"
			// 	}
			// }
		},
		methods:{
			
		}
	}
</script>
<style scoped="">
@import url("../../css/global_icon.css");
.dxi-has-more{padding: 40upx 0;text-align: center;}
.dxi-has-more .message{line-height: 1.6;}
.dxi-has-more /deep/.dxi-btn{min-width: 220upx;}

/* 加载中 */
.icon-loading{animation: rotating 2s linear infinite;margin-right: 6upx;}
@keyframes rotating {
		0% {
		transform:rotate(0deg)
	}
	to {
		transform:rotate(1turn)
	}
}
</style>