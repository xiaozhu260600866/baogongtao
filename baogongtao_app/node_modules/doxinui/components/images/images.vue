<template>
	<view>
		<view class="dxi-img-scroll" :class="[myclass]" :style="{background:bgColor,padding:`${TBPadding*2}rpx ${LRPadding*2}rpx`}" v-if="scroll">
			<scroll-view class="scroll-box" scroll-x>
				<view class="img-item" v-for="(item,key) in data" :style="{width:scrollImgW*2+'rpx',margin:`${imgTBMargin*2}rpx ${imgLRMargin*2}rpx`}">
					<image class="img" :src="item.img" mode="aspectFill" :style="{height:scrollImgH*2+'rpx',borderRadius:imgR*2+'rpx'}" @click="previewImage(item.img)" />
				</view>
			</scroll-view>
		</view>
		<view class="dxi-img-list" v-if="!scroll" :style="{background:bgColor,padding:`${TBPadding*2}rpx ${LRPadding*2}rpx`}">
			<view class="img-item" v-for="(item,key) in data"
			 :style="{width:'calc('+listImgW+' - '+ imgLRMargin*4+'rpx)',margin:`${imgTBMargin*2}rpx ${imgLRMargin*2}rpx`}">
				<image class="img" :src="item.img" mode="aspectFill" :style="{height:listImgH,borderRadius:imgR*2+'rpx'}" @click="previewImage(item.img)" />
			</view>
		</view>
	</view>
</template>

<script>
	export default{
		props: {
			// 自定义样式
			myclass:{
				type: String, 
				default: ''
			},
			// 数组
			data: {
				type: Array,
				default () {
					return []
				}
			},
			// 图片是否滚动
			scroll:{
				type:Boolean,
				default: false
			},
			// 背景颜色
			bgColor:{
				type:String,
				default: '#fff'
			},
			// 组上下间距
			TBPadding:{
				type: Number,
				default: 5
			},
			// 组左右间距
			LRPadding:{
				type: Number,
				default: 3
			},
			// 滚动图片宽度
			scrollImgW:{
				type:Number,
				default: 100
			},
			// 滚动图片宽度
			scrollImgH:{
				type:Number,
				default: 100
			},
			// 图片上下间距
			imgTBMargin:{
				type: Number,
				default: 3
			},
			// 图片左右间距
			imgLRMargin:{
				type: Number,
				default: 3
			},
			// 图片弦度
			imgR:{
				type: Number,
				default: 0
			},
			// 列表图片宽度
			listImgW:{
				type:String,
				default:'33.3333%'
			},
			// 列表图片高度
			listImgH:{
				type:String,
				default:'200rpx'
			}
		},
		data(){
			return {
				
			}
		},
		methods:{
			previewImage:function(url){
				uni.previewImage({
					urls: [url]
				})
			}
		}
	}
</script>
<style>
.dxi-img-scroll{display: flex;white-space: nowrap;}
.dxi-img-scroll .img-item{display: inline-block;}
.dxi-img-list{display: flex;flex-wrap: wrap;}
.img-item .img{width: 100%;display: flex;}
</style>