<template>
	<view class="dxi-product-scroll" :class="[lastMore?'dxi-product-more':'' ,myclass]" :style="{background:bgColor}">
		<scroll-view class="scroll-box" scroll-x>
			<view class="scroll-item" @click="toClick(item)" v-for="(item,key) in data" :style="{width:itemWidth*2+'rpx',margin:`${itemTBMargin*2}rpx ${itemLRMargin*2}rpx`}">
				<view class="image"><image class="img" :src="imageField ? item[imageField] : item.pic" mode="aspectFill" :style="{height:imgHeight ?imgHeight: itemWidth*2+'rpx',borderRadius:imgR}" /></view>
				<view class="title" :class="[nameWrap2 ? 'wrap2':'nowrap']" :style="{fontSize:nameSize*2+'rpx',color:nameColor,marginTop:nameTop*2+'rpx'}">{{ newsName ? item[newsName]:item.name }}</view>
				<view class="price">
					<view :style="{fontSize:priceSize*2+'rpx',color:priceColor}">￥{{newsPrice ? item[newsPrice]:item.price}}</view>
					<view class="Hprice" :style="{fontSize:HpriceSize*2+'rpx',color:HpriceColor}" v-if="item.factory || newsFactory">￥{{newsFactory ? item[newsFactory]:item.factory}}</view>
				</view>
				<view class="seeMore" v-if="lastMore">查看全部</view>
				<slot></slot>
			</view>
		</scroll-view>
	</view>
</template>

<script>
	export default{
		props: {
			// 自定义类名
			myclass:{
				type: String, 
				default: ''
			},
			data: {
				type: Array,
				default () {
					return []
				}
			},
			bgColor:{
				type:String,
				default: '#fff'
			},
			itemWidth:{
				type:Number,
				default: 100
			},
			imgHeight:{
				type:String,
				default: ''
			},
			imgR:{
				type:String,
				default: ''
			},
			itemTBMargin:{
				type: Number,
				default: 0
			},
			itemLRMargin:{
				type: Number,
				default: 7
			},
			nameSize:{
				type:Number,
				default: 13
			},
			nameColor:{
				type: String,
				default: '#333'
			},
			nameWrap2:{
				type: Boolean,
				default: false
			},
			nameTop:{
				type:Number,
				default: 5
			},
			priceSize:{
				type:Number,
				default: 12
			},
			priceColor:{
				type: String,
				default: '#e1251b'
			},
			HpriceSize:{
				type:Number,
				default: 11
			},
			HpriceColor:{
				type: String,
				default: '#999'
			},
			lastMore:{
				type:Boolean,
				defalut:false
			},
			imageField:{
				type:String,
				defalut:''
			},
			newsPrice:{
				type:String,
				defalut:''
			},
			newsFactory:{
				type:String,
				defalut:''
			},
			newsName:{
				type:String,
				defalut:''
			}
		},
		data(){
			return {
				
			}
		},
		methods:{
			toClick(item){
				console.log(item);
				return this.$emit('click',item)
			}
		}
	}
</script>
<style>
/* 热销 */
.dxi-product-scroll{display: flex;padding: 0 8px;white-space: nowrap;}
.dxi-product-scroll .scroll-item{display: inline-block;}

.dxi-product-scroll .scroll-item .img{width: 100%;display: flex;}
.dxi-product-scroll .title{line-height: 1.6;}
.dxi-product-scroll .price{line-height: 1.6;display: flex;align-items: baseline;}
.dxi-product-scroll .Hprice{text-decoration: line-through;padding-left: 6upx;}


.dxi-product-more .scroll-item:last-child{margin-right: 200upx;position: relative;z-index: 1;}
.dxi-product-more .seeMore{display: none;}
.dxi-product-more .seeMore::before{content: '';display: block;position: absolute;top: 50%;right: 22upx;width: 6upx;height: 6upx;border-width: 3upx 3upx 0 0;border-color: #fff;border-style: solid;transform: matrix(.71,1,-.71,1,0,0);margin-top: -6upx;z-index: 9;}
.dxi-product-more .seeMore::after{content: '';display: block;position: absolute;top: 50%;right: 10upx;width: 28upx;height: 28upx;background-color: #c8c8cd;border-radius: 50%;margin-top: -16upx;z-index: 8;}
.dxi-product-more .scroll-item:last-child .seeMore{display: flex;position: absolute;top: 0;right: -180upx;width: 180upx;height: 100%;justify-content: center;align-items: center;font-size: 12px;color: #999;z-index: 9;}

</style>