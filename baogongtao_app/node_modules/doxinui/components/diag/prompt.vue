<template>
	<view class="dxi-prompt" :class="[myclass]" v-if="thisPrompt || open" :style="{alignItems: top!=0 ?'flex-start':'center',marginTop: top!=0 ? top :''}">
		<view class="overlay" v-if="overlay" ></view>
		<view class="dxi-prompt-box" :style="{backgroundColor:bgColor,borderRadius:borderR*2+'rpx',width:width}">
			<view class="prompt-con" :style="{padding:padding}">
				<view class="prompt-title" :class="{'titBold':titBold}" :style="{fontSize:titSize*2+'rpx',color:titColor,textAlign:titAlign,lineHeight:titLH}">{{ title?title:'提示' }}</view>
				<view class="prompt-content" :style="{fontSize:conSize*2+'rpx',color:conColor,textAlign:conAlign,lineHeight:conLH,marginTop:conMT*2+'rpx'}" v-if="content">{{ content }}</view>
				<slot></slot>
			</view>
			<view class="prompt-btn">
				<view class="btn cancel" :style="{fontSize: btnSize*2+'rpx',color:CbtnColor,backgroundColor:CbtnBg,}" @click="togglePrompt" v-if="cancel">取消</view>
				<view class="btn sure" :style="{fontSize: btnSize*2+'rpx',color:SbtnColor,backgroundColor:SbtnBg}" @click="confirm" v-if="sure">确认</view>
			</view>
		</view>
	</view>
</template>

<script>
	import dxIcon from "doxinui/components/icon/icon"
	import dxButton from "doxinui/components/button/button"
	export default{
		components:{
			dxIcon,
			dxButton
		},
		props: {
			// 自定义类名
			myclass:{
				type: String, 
				default: ''
			},
			overlay:{
				type: Boolean,
				default: true
			},
			bgColor:{
				type:String,
				default:'#ffffff'
			},
			padding:{
				type:String,
				default: '40rpx 30rpx'
			},
			borderR:{
				type:Number,
				default: 12
			},
			width:{
				type:String,
				default: '80%'
			},
			open:{
				type:Boolean,
				default: false
			},
			top:{
				type:String,
				default: '0'
			},
			title:{
				type:String,
				default: ''
			},
			titSize:{
				type:Number,
				default: 18
			},
			titColor:{
				type:String,
				default: '#333'
			},
			titAlign:{
				type: String,
				default: 'center'
			},
			titLH:{
				type:String,
				default:'2',
			},
			titBold:{
				type:Boolean,
				default: true
			},
			content:{
				type:String,
				default: ''
			},
			conSize:{
				type:Number,
				default: 15
			},
			conColor:{
				type:String,
				default: '#333'
			},
			conAlign:{
				type: String,
				default: 'center'
			},
			conLH:{
				type:String,
				default:'1.5',
			},
			conMT:{
				type:Number,
				default: 0
			},
			btnSize:{
				type:Number,
				default: 18
			},
			CbtnColor:{
				type:String,
				default: '#07C160'
			},
			SbtnColor:{
				type:String,
				default: '#07C160'
			},
			CbtnBg:{
				type:String,
				default: '#fff'
			},
			SbtnBg:{
				type:String,
				default: '#fff'
			},
			cancel:{
				type: Boolean,
				default: true
			},
			sure:{
				type: Boolean,
				default: true
			}
		},
		data(){
			return {
				thisPrompt: false,
			}
		},
		methods:{
			togglePrompt() {
				this.thisPrompt = false;
				this.open = false;
				this.$emit("cancelCallBack");
				
			},
			confirm(){
				this.thisPrompt = false;
				this.open = false;
				this.$emit("confirmCallBack");
			},
			ajax() {
				this.thisPrompt = true;
			}
		}
	}
</script>
<style>
.overlay{position: fixed;top: 0px;right: 0;bottom: 0;left: 0;z-index: 999;width: 100%;height: 800px;background: #333;filter: alpha(opacity=70);opacity: 0.7;}
.dxi-prompt{position: fixed;top: 0;right: 0;bottom: 0;left: 0;z-index: 999;display: flex;justify-content: center;}
.dxi-prompt-box{background-color: #fff;z-index: 9999;animation-duration: 0.2s;animation-name: promptBox;position: relative;overflow: hidden;}
.dxi-prompt .prompt-title.titBold{font-weight: bold;}
.dxi-prompt .prompt-btn{display: flex;border-top: 2upx #eee solid;}
.dxi-prompt .btn{width: 100%;border-right: 2upx #eee solid;height: 44px;line-height: 44px;text-align: center;cursor: pointer;}
.dxi-prompt .btn:last-child{border-right: 0;}

@keyframes promptBox {

	from,
	20%,
	40%,
	60%,
	80%,
	to {
		-webkit-animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
		animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
	}

	0% {
		opacity: 0;
		-webkit-transform: scale3d(0, 0, 0);
		transform: scale3d(0, 0, 0);
	}

	20% {
		opacity: 0.2;
		-webkit-transform: scale3d(0.2, 0.2, 0.2);
		transform: scale3d(0.2, 0.2, 0.2);
	}

	40% {
		opacity: 0.4;
		-webkit-transform: scale3d(0.4, 0.4, 0.4);
		transform: scale3d(0.4, 0.4, 0.4);
	}

	60% {
		opacity: 0.6;
		-webkit-transform: scale3d(0.6, 0.6, 0.6);
		transform: scale3d(0.6, 0.6, 0.6);
	}

	80% {
		opacity: 0.8;
		-webkit-transform: scale3d(0.8, 0.8, 0.8);
		transform: scale3d(0.8, 0.8, 0.8);
	}

	to {
		opacity: 1;
		-webkit-transform: scale3d(1, 1, 1);
		transform: scale3d(1, 1, 1);
	}
}


@keyframes bounceOut {
	20% {
		-webkit-transform: scale3d(0.9, 0.9, 0.9);
		transform: scale3d(0.9, 0.9, 0.9);
	}

	50%,
	55% {
		opacity: 1;
		-webkit-transform: scale3d(1.1, 1.1, 1.1);
		transform: scale3d(1.1, 1.1, 1.1);
	}

	to {
		opacity: 0;
		-webkit-transform: scale3d(0.3, 0.3, 0.3);
		transform: scale3d(0.3, 0.3, 0.3);
	}
}

</style>