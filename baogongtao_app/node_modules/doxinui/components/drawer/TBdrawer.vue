<template>
	<view class="dxi-TBdrawer" :class="[visible ? 'dxi-TBdrawer-show' : '','dxi-TBdrawer-' + mode,myclass]">
		<view v-if="mask" class="dxi-TBdrawer-mask" @click="maskClose==true?maskHide():''" @touchmove.stop.prevent></view>
		<view class="dxi-TBdrawer-container" @touchmove.stop.prevent :style="{height:height,borderRadius:bdR*2+'rpx',backgroundColor:bgColor}">
			<slot></slot>
		</view>
	</view>
</template>

<script>
	export default {
		props: {
			myclass:{
				type: String, 
				default: ''
			},
			visible: {
				type: Boolean,
				default: false
			},
			mask: {
				type: Boolean,
				default: true
			},
			maskClose: {
				type: Boolean,
				default: true
			},
			mode: {
				type: String,
				default: 'bottom' // top bottom
			},
			height:{
				type: String,
				default: '600rpx'
			},
			bdR:{
				type: Number,
				default: 12
			},
			bgColor:{
				type:String,
				default:'#fff'
			}
		},
		data() {
			return {
				// TBdrawer:false,
			}
		},
		methods: {
			maskHide(){
				console.log(55555555)
				this.visible = false;
				this.$emit('click');
			}
		}
	}
</script>
<style>
.dxi-TBdrawer{visibility: hidden;width: 100%;position: fixed;left: 0;right: 0;bottom: 0;display: flex;top: 0;}
.dxi-TBdrawer-show{visibility: visible;}
.dxi-TBdrawer-show .dxi-TBdrawer-mask{display: block;opacity: 1;}
.dxi-TBdrawer-show .dxi-TBdrawer-container{opacity: 1;}
.dxi-TBdrawer-show.dxi-TBdrawer-top .dxi-TBdrawer-container,
.dxi-TBdrawer-show.dxi-TBdrawer-bottom .dxi-TBdrawer-container{transform: translate3d(0, 0, 0);}
.dxi-TBdrawer-mask{opacity: 0;position: fixed;top: 0;left: 0;right: 0;bottom: 0;z-index: 8888;background: rgba(0, 0, 0, 0.6);transition: all 0.3s ease-in-out;cursor: pointer;}
.dxi-TBdrawer-container{opacity: 0;transform: translate3d(0, 100%, 0);transform-origin: center;transition: all 0.3s ease-in-out;min-height: 200rpx;z-index: 9999;width: 100%;position: relative;}
.dxi-TBdrawer-top{align-items: top;}
.dxi-TBdrawer-bottom{align-items: flex-end;align-content: flex-end;}
.dxi-TBdrawer-top .dxi-TBdrawer-container{transform: translate3d(0, -50%, 0);border-top-left-radius: 0!important;border-top-right-radius: 0!important;}
.dxi-TBdrawer-bottom .dxi-TBdrawer-container{transform: translate3d(0, 100%, 0);border-bottom-left-radius: 0!important;border-bottom-right-radius: 0!important;}
</style>